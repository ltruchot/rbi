{"version":3,"file":"public/javascripts/app.js","sources":["app/application.coffee","app/collections/bank_accounts.coffee","app/collections/bank_alerts.coffee","app/collections/bank_amounts.coffee","app/collections/bank_operations.coffee","app/collections/banks.coffee","app/initialize.coffee","app/lib/app_helpers.coffee","app/lib/base_view.coffee","app/lib/view_collection.coffee","app/models/bank.coffee","app/models/bank_account.coffee","app/models/bank_alert.coffee","app/models/bank_amount.coffee","app/models/bank_operation.coffee","app/models/user_configuration.coffee","app/router.coffee","app/views/alerts.coffee","app/views/app.coffee","app/views/bank_statement.coffee","app/views/bank_statement_entry.coffee","app/views/bank_title.coffee","app/views/compared_analysis.coffee","app/views/configuration.coffee","app/views/configuration_bank.coffee","app/views/configuration_bank_account.coffee","app/views/menu.coffee","app/views/monthly_analysis.coffee","app/views/online_shopping.coffee","app/views/templates/alerts.jade","app/views/templates/app.jade","app/views/templates/balance_banks_empty.jade","app/views/templates/bank_statement_empty.jade","app/views/templates/bank_statement_entry.jade","app/views/templates/bank_statement_header.jade","app/views/templates/bank_statement_search.jade","app/views/templates/compared_analysis.jade","app/views/templates/configuration.jade","app/views/templates/configuration_bank.jade","app/views/templates/configuration_bank_account.jade","app/views/templates/configuration_bank_title.jade","app/views/templates/menu.jade","app/views/templates/monthly_analysis.jade","app/views/templates/online_shopping.jade"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5EA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhFA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjEA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3CA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1GA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApCA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7CA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnEA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxNA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApPA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxDA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1MA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtEA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjNA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlDA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxVA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A","sourcesContent":["var AppView, BankAmountsCollection, BankOperationsCollection, BanksCollection;\n\nAppView = require('views/app');\n\nBanksCollection = require('collections/banks');\n\nBankOperationsCollection = require('collections/bank_operations');\n\nBankAmountsCollection = require('collections/bank_amounts');\n\nmodule.exports = {\n  initialize: function() {\n    var Router;\n    window.app = this;\n    window.collections = {};\n    window.views = {};\n    window.rbiActiveData = {};\n    window.rbiActiveData.olderOperationDate = moment(new Date());\n    window.rbiActiveData.budgetByAccount = {};\n    window.rbiActiveData.accountNumber = null;\n    window.rbiColors = {\n      border_color: \"#efefef\",\n      grid_color: \"#ddd\",\n      default_black: \"#666\",\n      green: \"#8ecf67\",\n      yellow: \"#fac567\",\n      orange: \"#F08C56\",\n      blue: \"#87ceeb\",\n      red: \"#f74e4d\",\n      teal: \"#28D8CA\",\n      grey: \"#999999\"\n    };\n    window.rbiIcons = {\n      plus: {\n        encoded: \"&#57602;\",\n        decoded: \"\"\n      },\n      minus: {\n        encoded: \"&#57601;\",\n        decoded: \"\"\n      },\n      positiveEvolution: {\n        encoded: \"&#57641;\",\n        decoded: \"\"\n      },\n      negativeEvolution: {\n        encoded: \"&#57643;\",\n        decoded: \"\"\n      },\n      search: {\n        encoded: \"&#57471;\",\n        decoded: \"\"\n      },\n      variableCost: {\n        encoded: \"&#57393;\",\n        decoded: \"\"\n      }\n    };\n    window.collections.banks = new BanksCollection();\n    window.collections.operations = new BankOperationsCollection();\n    window.collections.amounts = new BankAmountsCollection();\n    /*\n            views\n    */\n\n    window.views.appView = new AppView();\n    window.views.appView.render();\n    window.activeObjects = {};\n    _.extend(window.activeObjects, Backbone.Events);\n    Router = require('router');\n    this.router = new Router();\n    if (typeof Object.freeze === 'function') {\n      return Object.freeze(this);\n    }\n  }\n};\n","var BankAccount, BankAccounts,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBankAccount = require('../models/bank_account');\n\nmodule.exports = BankAccounts = (function(_super) {\n  __extends(BankAccounts, _super);\n\n  BankAccounts.prototype.model = BankAccount;\n\n  BankAccounts.prototype.url = \"bankaccounts\";\n\n  function BankAccounts(bank) {\n    this.bank = bank;\n    this.url = \"banks/getAccounts/\" + this.bank.get(\"id\");\n    BankAccounts.__super__.constructor.call(this);\n  }\n\n  BankAccounts.prototype.getSum = function() {\n    var account, sum, _i, _len, _ref;\n    sum = 0;\n    _ref = this.models;\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      account = _ref[_i];\n      sum += Number(account.get(\"amount\"));\n    }\n    return sum;\n  };\n\n  return BankAccounts;\n\n})(Backbone.Collection);\n","var BankAlert, BankAlerts, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBankAlert = require('../models/bank_alert');\n\nmodule.exports = BankAlerts = (function(_super) {\n  __extends(BankAlerts, _super);\n\n  function BankAlerts() {\n    _ref = BankAlerts.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  BankAlerts.prototype.model = BankAlert;\n\n  BankAlerts.prototype.url = \"bankalerts\";\n\n  return BankAlerts;\n\n})(Backbone.Collection);\n","var BankAmount, BankAmounts, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBankAmount = require('../models/bank_amount');\n\nmodule.exports = BankAmounts = (function(_super) {\n  __extends(BankAmounts, _super);\n\n  function BankAmounts() {\n    _ref = BankAmounts.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  BankAmounts.prototype.model = BankAmount;\n\n  BankAmounts.prototype.url = \"bankaccounts\";\n\n  BankAmounts.prototype.setAccount = function(account) {\n    this.account = account;\n    return this.url = \"bankaccounts/getLastYearAmounts/\" + this.account.get(\"id\");\n  };\n\n  return BankAmounts;\n\n})(Backbone.Collection);\n","var BankOperation, BankOperations, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBankOperation = require('../models/bank_operation');\n\nmodule.exports = BankOperations = (function(_super) {\n  __extends(BankOperations, _super);\n\n  function BankOperations() {\n    _ref = BankOperations.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  BankOperations.prototype.model = BankOperation;\n\n  BankOperations.prototype.url = \"bankoperations\";\n\n  BankOperations.prototype.order = \"asc\";\n\n  BankOperations.prototype.orderBy = \"date\";\n\n  BankOperations.prototype.setAccount = function(account) {\n    this.account = account;\n    return this.url = \"bankaccounts/getOperations/\" + this.account.get(\"id\");\n  };\n\n  BankOperations.prototype.setComparator = function(type) {\n    var _this = this;\n    if (type === \"date\") {\n      return this.comparator = function(o1, o2) {\n        var d1, d2, sort, t1, t2;\n        d1 = new Date(o1.get(\"date\")).getTime();\n        d2 = new Date(o2.get(\"date\")).getTime();\n        t1 = o1.get(\"title\");\n        t2 = o2.get(\"title\");\n        sort = _this.order === \"asc\" ? -1 : 1;\n        if (d1 === d2) {\n          if (t1 > t2) {\n            return sort;\n          }\n          if (t1 < t2) {\n            return -sort;\n          }\n          return 0;\n        } else if (d1 > d2) {\n          return sort;\n        } else {\n          return -sort;\n        }\n      };\n    } else {\n      this.orderBy = type;\n      return this.comparator = function(o1, o2) {\n        var sort, t1, t2;\n        t1 = o1.get(this.orderBy);\n        t2 = o2.get(this.orderBy);\n        sort = this.order === \"asc\" ? -1 : 1;\n        if (t1 === t2) {\n          return 0;\n        } else if (t1 > t2) {\n          return sort;\n        } else {\n          return -sort;\n        }\n      };\n    }\n  };\n\n  BankOperations.prototype.toggleSort = function(order) {\n    if (this.orderBy === order) {\n      return this.order = this.order === \"asc\" ? \"desc\" : \"asc\";\n    } else {\n      return this.orderBy = order;\n    }\n  };\n\n  return BankOperations;\n\n})(Backbone.Collection);\n","var Bank, Banks, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBank = require('../models/bank');\n\nmodule.exports = Banks = (function(_super) {\n  __extends(Banks, _super);\n\n  function Banks() {\n    _ref = Banks.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  Banks.prototype.model = Bank;\n\n  Banks.prototype.url = \"banks\";\n\n  Banks.prototype.getSum = function() {\n    var bank, sum, _i, _len, _ref1;\n    sum = 0;\n    _ref1 = this.models;\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      bank = _ref1[_i];\n      sum += Number(bank.get(\"amount\"));\n    }\n    return sum;\n  };\n\n  return Banks;\n\n})(Backbone.Collection);\n","var app;\n\napp = require('application');\n\n$(function() {\n  require('lib/app_helpers');\n  return app.initialize();\n});\n","(function() {\n  return (function() {\n    var console, dummy, method, methods, _results;\n    console = window.console = window.console || {};\n    method = void 0;\n    dummy = function() {};\n    methods = 'assert,count,debug,dir,dirxml,error,exception,\\\n                   group,groupCollapsed,groupEnd,info,log,markTimeline,\\\n                   profile,profileEnd,time,timeEnd,trace,warn'.split(',');\n    _results = [];\n    while (method = methods.pop()) {\n      _results.push(console[method] = console[method] || dummy);\n    }\n    return _results;\n  })();\n})();\n\nNumber.prototype.formatMoney = function(decPlaces, thouSeparator, decSeparator, currency, solid) {\n  var finalN, i, j, n, sign;\n  n = this;\n  decPlaces = (isNaN(decPlaces = Math.abs(decPlaces)) ? 2 : decPlaces);\n  decSeparator = (decSeparator === undefined ? \".\" : decSeparator);\n  thouSeparator = (thouSeparator === undefined ? \",\" : thouSeparator);\n  sign = (n < 0 ? \"-\" : \"\");\n  i = parseInt(n = Math.abs(+n || 0).toFixed(decPlaces)) + \"\";\n  j = ((j = i.length) > 3 ? j % 3 : 0);\n  finalN = sign + (j ? i.substr(0, j) + thouSeparator : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thouSeparator) + (decPlaces ? decSeparator + Math.abs(n - i).toFixed(decPlaces).slice(2) : \"\");\n  if (currency != null) {\n    finalN += currency;\n  }\n  if (solid != null) {\n    finalN = finalN.replace(' ', '&nbsp;');\n  }\n  return finalN;\n};\n\nNumber.prototype.money = function() {\n  return this.formatMoney(2, \" \", \",\", \"&euro;\", true);\n};\n\nDate.prototype.dateString = function() {\n  var addZeros, myDate;\n  addZeros = function(num) {\n    if (Number(num) < 10) {\n      return \"0\" + num;\n    } else {\n      return num;\n    }\n  };\n  myDate = this;\n  return addZeros(myDate.getDate() + 1) + \"/\" + addZeros(myDate.getMonth() + 1) + \"/\" + myDate.getFullYear();\n};\n\nDate.prototype.timeString = function() {\n  var addZeros, myDate;\n  addZeros = function(num) {\n    if (Number(num) < 10) {\n      return \"0\" + num;\n    } else {\n      return num;\n    }\n  };\n  myDate = this;\n  return addZeros(myDate.getHours()) + \":\" + addZeros(myDate.getMinutes());\n};\n","var BaseView, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nmodule.exports = BaseView = (function(_super) {\n  __extends(BaseView, _super);\n\n  function BaseView() {\n    _ref = BaseView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  BaseView.prototype.template = function() {};\n\n  BaseView.prototype.initialize = function() {};\n\n  BaseView.prototype.getRenderData = function() {\n    return {\n      model: this.model\n    };\n  };\n\n  BaseView.prototype.render = function() {\n    this.beforeRender();\n    this.$el.html(this.template(this.getRenderData()));\n    this.afterRender();\n    return this;\n  };\n\n  BaseView.prototype.beforeRender = function() {};\n\n  BaseView.prototype.afterRender = function() {};\n\n  BaseView.prototype.destroy = function() {\n    this.undelegateEvents();\n    this.$el.removeData().unbind();\n    this.remove();\n    return Backbone.View.prototype.remove.call(this);\n  };\n\n  return BaseView;\n\n})(Backbone.View);\n","var BaseView, ViewCollection, _ref,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBaseView = require('lib/base_view');\n\nmodule.exports = ViewCollection = (function(_super) {\n  __extends(ViewCollection, _super);\n\n  function ViewCollection() {\n    this.removeItem = __bind(this.removeItem, this);\n    this.addItem = __bind(this.addItem, this);\n    _ref = ViewCollection.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  ViewCollection.prototype.itemview = null;\n\n  ViewCollection.prototype.views = {};\n\n  ViewCollection.prototype.template = function() {\n    return '';\n  };\n\n  ViewCollection.prototype.itemViewOptions = function() {};\n\n  ViewCollection.prototype.collectionEl = null;\n\n  ViewCollection.prototype.onChange = function() {\n    return this.$el.toggleClass('empty', _.size(this.views) === 0);\n  };\n\n  ViewCollection.prototype.appendView = function(view) {\n    return this.$collectionEl.append(view.el);\n  };\n\n  ViewCollection.prototype.initialize = function() {\n    var collectionEl;\n    ViewCollection.__super__.initialize.apply(this, arguments);\n    this.views = {};\n    this.listenTo(this.collection, \"reset\", this.onReset);\n    this.listenTo(this.collection, \"add\", this.addItem);\n    this.listenTo(this.collection, \"remove\", this.removeItem);\n    if (this.collectionEl == null) {\n      return collectionEl = el;\n    }\n  };\n\n  ViewCollection.prototype.render = function() {\n    var id, view, _ref1;\n    _ref1 = this.views;\n    for (id in _ref1) {\n      view = _ref1[id];\n      view.$el.detach();\n    }\n    return ViewCollection.__super__.render.apply(this, arguments);\n  };\n\n  ViewCollection.prototype.afterRender = function() {\n    var id, view, _ref1;\n    this.$collectionEl = $(this.collectionEl);\n    _ref1 = this.views;\n    for (id in _ref1) {\n      view = _ref1[id];\n      this.appendView(view.$el);\n    }\n    this.onReset(this.collection);\n    return this.onChange(this.views);\n  };\n\n  ViewCollection.prototype.remove = function() {\n    this.onReset([]);\n    return ViewCollection.__super__.remove.apply(this, arguments);\n  };\n\n  ViewCollection.prototype.onReset = function(newcollection) {\n    var id, view, _ref1;\n    _ref1 = this.views;\n    for (id in _ref1) {\n      view = _ref1[id];\n      view.remove();\n    }\n    return newcollection.forEach(this.addItem);\n  };\n\n  ViewCollection.prototype.addItem = function(model) {\n    var options, view;\n    options = _.extend({}, {\n      model: model\n    }, this.itemViewOptions(model));\n    view = new this.itemview(options);\n    this.views[model.cid] = view.render();\n    this.appendView(view);\n    return this.onChange(this.views);\n  };\n\n  ViewCollection.prototype.removeItem = function(model) {\n    this.views[model.cid].remove();\n    delete this.views[model.cid];\n    return this.onChange(this.views);\n  };\n\n  return ViewCollection;\n\n})(BaseView);\n","var Bank, BankAccountsCollection, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBankAccountsCollection = require('../collections/bank_accounts');\n\nmodule.exports = Bank = (function(_super) {\n  __extends(Bank, _super);\n\n  function Bank() {\n    _ref = Bank.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  Bank.prototype.defaults = {\n    amount: 0\n  };\n\n  Bank.prototype.checked = true;\n\n  Bank.prototype.initialize = function() {\n    this.accounts = new BankAccountsCollection(this);\n    this.listenTo(this.accounts, \"add\", this.updateAmount);\n    this.listenTo(this.accounts, \"remove\", this.updateAmount);\n    this.listenTo(this.accounts, \"destroy\", this.updateAmount);\n    return this.listenTo(this.accounts, \"change\", this.updateAmount);\n  };\n\n  Bank.prototype.updateAmount = function() {\n    this.set(\"amount\", this.accounts.getSum());\n    return console.log(\"updated balance bank \" + this.get(\"name\") + \" is now \" + this.get(\"amount\"));\n  };\n\n  return Bank;\n\n})(Backbone.Model);\n","var BankAccount, BankOperationsCollection, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBankOperationsCollection = require('../collections/bank_operations');\n\nmodule.exports = BankAccount = (function(_super) {\n  __extends(BankAccount, _super);\n\n  function BankAccount() {\n    _ref = BankAccount.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  BankAccount.prototype.checked = true;\n\n  return BankAccount;\n\n})(Backbone.Model);\n","var BankAlert, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nmodule.exports = BankAlert = (function(_super) {\n  __extends(BankAlert, _super);\n\n  function BankAlert() {\n    _ref = BankAlert.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  BankAlert.prototype.url = \"bankalerts\";\n\n  return BankAlert;\n\n})(Backbone.Model);\n","var BankAmount, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nmodule.exports = BankAmount = (function(_super) {\n  __extends(BankAmount, _super);\n\n  function BankAmount() {\n    _ref = BankAmount.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  return BankAmount;\n\n})(Backbone.Model);\n","var BankOperation, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nmodule.exports = BankOperation = (function(_super) {\n  __extends(BankOperation, _super);\n\n  function BankOperation() {\n    _ref = BankOperation.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  return BankOperation;\n\n})(Backbone.Model);\n","var Config, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nmodule.exports = Config = (function(_super) {\n  __extends(Config, _super);\n\n  function Config() {\n    _ref = Config.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  Config.prototype.url = 'rbiconfiguration';\n\n  Config.prototype.isNew = function() {\n    return true;\n  };\n\n  Config.prototype.defaults = {\n    accountNumber: '',\n    budgetByAcount: {}\n  };\n\n  return Config;\n\n})(Backbone.Model);\n","var AppView, Router, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nAppView = require('views/app');\n\nmodule.exports = Router = (function(_super) {\n  __extends(Router, _super);\n\n  function Router() {\n    _ref = Router.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  Router.prototype.routes = {\n    '': 'monthly_analysis',\n    'analyse-mensuelle': 'monthly_analysis',\n    'analyse-mensuelle-comparee': 'compared_analysis',\n    'achats-en-ligne': 'online_shopping',\n    'alertes': 'alerts'\n  };\n\n  Router.prototype.monthly_analysis = function() {\n    var _ref1;\n    return (_ref1 = window.views.monthlyAnalysisView) != null ? _ref1.render() : void 0;\n  };\n\n  Router.prototype.compared_analysis = function() {\n    var _ref1;\n    return (_ref1 = window.views.comparedAnalysisView) != null ? _ref1.render() : void 0;\n  };\n\n  Router.prototype.online_shopping = function() {\n    var _ref1;\n    return (_ref1 = window.views.onlineShoppingView) != null ? _ref1.render() : void 0;\n  };\n\n  Router.prototype.alerts = function() {\n    var _ref1;\n    return (_ref1 = window.views.alertsView) != null ? _ref1.render() : void 0;\n  };\n\n  return Router;\n\n})(Backbone.Router);\n","var AlertsView, BaseView, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBaseView = require('../lib/base_view');\n\nmodule.exports = AlertsView = (function(_super) {\n  __extends(AlertsView, _super);\n\n  function AlertsView() {\n    _ref = AlertsView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  AlertsView.prototype.template = require('./templates/alerts');\n\n  AlertsView.prototype.el = 'div#interface-box';\n\n  AlertsView.prototype.subViews = [];\n\n  AlertsView.prototype.initialize = function() {};\n\n  AlertsView.prototype.render = function() {\n    var view;\n    AlertsView.__super__.render.call(this);\n    view = this;\n    return this;\n  };\n\n  return AlertsView;\n\n})(BaseView);\n","var AlertsView, AppView, BaseView, ComparedAnalysisView, ConfigurationView, MenuView, MonthlyAnalysisView, OnlineShoppingView, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBaseView = require('../lib/base_view');\n\nConfigurationView = require('views/configuration');\n\nMonthlyAnalysisView = require('views/monthly_analysis');\n\nComparedAnalysisView = require('views/compared_analysis');\n\nOnlineShoppingView = require('views/online_shopping');\n\nAlertsView = require('views/alerts');\n\nMenuView = require('views/menu');\n\nmodule.exports = AppView = (function(_super) {\n  __extends(AppView, _super);\n\n  function AppView() {\n    _ref = AppView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  AppView.prototype.template = require('./templates/app');\n\n  AppView.prototype.el = 'body.application';\n\n  AppView.prototype.afterRender = function() {\n    return window.collections.banks.fetch({\n      data: {\n        withAccountOnly: true\n      },\n      success: function() {\n        if (!this.menuView) {\n          this.menuView = new MenuView();\n        }\n        if (!window.views.configurationView) {\n          window.views.configurationView = new ConfigurationView();\n        }\n        if (!window.views.monthlyAnalysisView) {\n          window.views.monthlyAnalysisView = new MonthlyAnalysisView();\n        }\n        if (!window.views.comparedAnalysisView) {\n          window.views.comparedAnalysisView = new ComparedAnalysisView();\n        }\n        if (!window.views.onlineShoppingView) {\n          window.views.onlineShoppingView = new OnlineShoppingView();\n        }\n        if (!window.views.alertsView) {\n          window.views.alertsView = new AlertsView();\n        }\n        this.menuView.render();\n        window.views.configurationView.render();\n        return Backbone.history.start();\n      },\n      error: function() {\n        return console.log(\"Fatal error: could not get the banks list\");\n      }\n    });\n  };\n\n  return AppView;\n\n})(BaseView);\n","var BalanceOperationView, BankOperationsCollection, BankStatementView, BaseView,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBaseView = require('../lib/base_view');\n\nBankOperationsCollection = require(\"../collections/bank_operations\");\n\nBalanceOperationView = require(\"./bank_statement_entry\");\n\nmodule.exports = BankStatementView = (function(_super) {\n  var params, subViewLastDate;\n\n  __extends(BankStatementView, _super);\n\n  BankStatementView.prototype.templateHeader = require('./templates/bank_statement_header');\n\n  BankStatementView.prototype.events = {\n    'click a.recheck-button': \"checkAccount\",\n    'click th.sort-date': \"sortByDate\",\n    'click th.sort-title': \"sortByTitle\",\n    'click th.sort-amount': \"sortByAmount\",\n    'keyup input#search-text': \"reload\"\n  };\n\n  BankStatementView.prototype.inUse = false;\n\n  BankStatementView.prototype.subViews = [];\n\n  subViewLastDate = '';\n\n  params = null;\n\n  function BankStatementView(el) {\n    this.el = el;\n    BankStatementView.__super__.constructor.call(this);\n  }\n\n  BankStatementView.prototype.initialize = function() {\n    return this.listenTo(window.activeObjects, 'changeActiveAccount', this.reload);\n  };\n\n  BankStatementView.prototype.render = function() {\n    this.$el.html(require(\"./templates/bank_statement_empty\"));\n    return this;\n  };\n\n  BankStatementView.prototype.reload = function(params, callback) {\n    var displayFixedCosts, displayVariableCosts, view;\n    view = this;\n    this.model = window.rbiActiveData.bankAccount;\n    if ((params != null) && (params.dateFrom != null)) {\n      this.params = params;\n    }\n    if (this.model != null) {\n      this.updateFilters();\n      if (this.$(\"#table-operations\").length === 0) {\n        this.$el.html(this.templateHeader({\n          model: this.model\n        }));\n      }\n    }\n    displayFixedCosts = this.data != null ? this.data.fixedCosts || false : false;\n    displayVariableCosts = this.data != null ? this.data.variableCosts || false : false;\n    if (this.send) {\n      return $.ajax({\n        type: \"POST\",\n        url: \"bankoperations/byDate\",\n        data: this.data,\n        success: function(operations) {\n          var _this = this;\n          console.log(\"sent successfully!\");\n          if (operations) {\n            return $.ajax({\n              type: \"GET\",\n              url: \"rbifixedcost\",\n              success: function(fixedCosts) {\n                var finalOperations, fixedCost, index, operation, operationRemoved, _i, _j, _len, _len1;\n                console.log(\"getting fixed cost success.\");\n                window.rbiCurrentOperations = {};\n                finalOperations = [];\n                for (index = _i = 0, _len = operations.length; _i < _len; index = ++_i) {\n                  operation = operations[index];\n                  operation.isFixedCost = false;\n                  if (operation.amount < 0) {\n                    for (_j = 0, _len1 = fixedCosts.length; _j < _len1; _j++) {\n                      fixedCost = fixedCosts[_j];\n                      if ($.inArray(operation.id, fixedCost.idTable) >= 0) {\n                        operation.isFixedCost = true;\n                        operation.fixedCostId = fixedCost.id;\n                        break;\n                      }\n                    }\n                  }\n                  operationRemoved = false;\n                  if (displayFixedCosts && (!operation.isFixedCost)) {\n                    operationRemoved = true;\n                  } else if (displayVariableCosts && (operation.isFixedCost || (operation.amount > 0))) {\n                    operationRemoved = true;\n                  }\n                  if (!operationRemoved) {\n                    finalOperations.push(operation);\n                    window.rbiCurrentOperations[operation.id] = operation;\n                  }\n                }\n                if (callback != null) {\n                  callback(window.rbiCurrentOperations);\n                }\n                window.collections.operations.reset(finalOperations);\n                return view.addAll();\n              },\n              error: function(err) {\n                return console.log(\"getting fixed cost failed.\");\n              }\n            });\n          } else {\n            return window.collections.operations.reset();\n          }\n        },\n        error: function(err) {\n          console.log(\"there was an error\");\n          if (callback != null) {\n            return callback(null);\n          }\n        }\n      });\n    }\n  };\n\n  BankStatementView.prototype.updateFilters = function() {\n    var accountNumber, dateFrom, dateFromVal, dateTo, dateToVal, searchTextVal;\n    if (this.params != null) {\n      dateFrom = this.params.dateFrom ? moment(this.params.dateFrom).format('YYYY-MM-DD') : null;\n      dateTo = this.params.dateTo ? moment(this.params.dateTo).format('YYYY-MM-DD') : null;\n    }\n    if (!(dateFrom || dateTo)) {\n      console.log(\"Empty query\");\n      this.send = false;\n      window.collections.operations.reset();\n      return;\n    } else {\n      this.send = true;\n    }\n    if (window.rbiActiveData.bankAccount != null) {\n      accountNumber = window.rbiActiveData.bankAccount.get('accountNumber');\n    } else {\n      this.send = false;\n    }\n    dateFromVal = new Date(dateFrom || null);\n    dateToVal = new Date(dateTo || new Date());\n    this.data = {\n      dateFrom: dateFromVal,\n      dateTo: dateToVal,\n      accounts: [accountNumber]\n    };\n    searchTextVal = $(\"input#search-text\").val();\n    if ((searchTextVal != null) && (searchTextVal !== \"\")) {\n      if (searchTextVal === \"#credits\") {\n        return this.data.credits = true;\n      } else if (searchTextVal === \"#debits\") {\n        return this.data.debits = true;\n      } else if (searchTextVal === \"#frais-fixes\") {\n        return this.data.fixedCosts = true;\n      } else if (searchTextVal === \"#depenses\") {\n        return this.data.variableCosts = true;\n      } else {\n        return this.data.searchText = searchTextVal;\n      }\n    }\n  };\n\n  BankStatementView.prototype.addAll = function() {\n    var index, operation, subView, subViewDate, view, _i, _j, _len, _len1, _ref, _ref1, _results;\n    this.$(\"#table-operations\").html(\"\");\n    this.$(\".loading\").remove();\n    _ref = this.subViews;\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      view = _ref[_i];\n      view.destroy();\n    }\n    this.subViews = [];\n    if (window.collections.operations.models.length === 0) {\n      $(\"#table-operations\").append($('<tr><td>Aucune opération ne correspond à ces critères.</td></tr>'));\n      return;\n    }\n    _ref1 = window.collections.operations.models;\n    _results = [];\n    for (index = _j = 0, _len1 = _ref1.length; _j < _len1; index = ++_j) {\n      operation = _ref1[index];\n      subView = new BalanceOperationView(operation, this.model);\n      subViewDate = subView.render().model.get('date');\n      if ((this.subViewLastDate !== subViewDate) || (index === 0)) {\n        this.subViewLastDate = subViewDate;\n        this.$(\"#table-operations\").append($('<tr class=\"special\"><td colspan=\"4\">' + moment(this.subViewLastDate).format(\"DD/MM/YYYY\" + '</td></tr>')));\n      }\n      _results.push(this.$(\"#table-operations\").append(subView.render().el));\n    }\n    return _results;\n  };\n\n  BankStatementView.prototype.destroy = function() {\n    var view, _i, _len, _ref, _ref1;\n    if ((_ref = this.viewTitle) != null) {\n      _ref.destroy();\n    }\n    _ref1 = this.subViews;\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      view = _ref1[_i];\n      view.destroy();\n    }\n    return BankStatementView.__super__.destroy.call(this);\n  };\n\n  return BankStatementView;\n\n})(BaseView);\n","var BaseView, EntryView,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBaseView = require('../lib/base_view');\n\nmodule.exports = EntryView = (function(_super) {\n  __extends(EntryView, _super);\n\n  EntryView.prototype.template = require('./templates/bank_statement_entry');\n\n  EntryView.prototype.tagName = 'tr';\n\n  EntryView.prototype.events = {\n    'mouseenter .popup-container > .variable-cost': 'switchFixedCostIcon',\n    'mouseleave .popup-container > .variable-cost': 'switchFixedCostIcon',\n    'mouseenter .popup-container > .fixed-cost': 'switchFixedCostIcon',\n    'mouseleave .popup-container > .fixed-cost': 'switchFixedCostIcon',\n    'click .popup-container > .variable-cost': 'popupFixedCost',\n    'click .popup-container > .fixed-cost': 'popupFixedCost',\n    'click #cancel-fixed-cost': 'destroyPopupFixedCost',\n    'click #save-fixed-cost': 'prepareFixedCost',\n    'click #remove-fixed-cost': 'removeFixedCost'\n  };\n\n  function EntryView(model, account, showAccountNum) {\n    this.model = model;\n    this.account = account;\n    this.showAccountNum = showAccountNum != null ? showAccountNum : false;\n    EntryView.__super__.constructor.call(this);\n  }\n\n  EntryView.prototype.render = function() {\n    var hint;\n    if (this.model.get(\"amount\") > 0) {\n      this.$el.addClass(\"success\");\n    }\n    this.model.account = this.account;\n    this.model.formattedDate = moment(this.model.get('date')).format(\"DD/MM/YYYY\");\n    if ((this.model.get('amount')) > 0) {\n      this.model.costClass = 'not-displayed-cost';\n    } else {\n      this.model.costClass = \"variable-cost\";\n      this.model.costIcon = \"&#57482;\";\n      if (this.model.get('isFixedCost')) {\n        this.model.costClass = \"fixed-cost\";\n        this.model.costIcon = \"&#57481;\";\n      }\n    }\n    if (this.showAccountNum) {\n      hint = (\"\" + (this.model.account.get('title')) + \", \") + (\"n°\" + (this.model.account.get('accountNumber')));\n      this.model.hint = (\"\" + (this.model.account.get('title')) + \", \") + (\"n°\" + (this.model.account.get('accountNumber')));\n    } else {\n      this.model.hint = \"\" + (this.model.get('raw'));\n    }\n    EntryView.__super__.render.call(this);\n    return this;\n  };\n\n  EntryView.prototype.destroyPopupFixedCost = function(event) {\n    var jqCaller, jqFixedCostIcon, jqParent, jqPopup;\n    jqCaller = $(event.currentTarget);\n    jqPopup = jqCaller.parent();\n    jqParent = jqPopup.parent();\n    jqFixedCostIcon = jqPopup.children('.iconCostType');\n    jqFixedCostIcon.appendTo(jqParent);\n    jqPopup.remove();\n    if (jqCaller.attr('id') === 'cancel-fixed-cost') {\n      return jqFixedCostIcon.mouseleave();\n    } else {\n      if (jqFixedCostIcon.hasClass('variable-cost')) {\n        return jqFixedCostIcon.removeClass('variable-cost').addClass('fixed-cost');\n      } else {\n        return jqFixedCostIcon.removeClass('fixed-cost').addClass('variable-cost');\n      }\n    }\n  };\n\n  EntryView.prototype.removeFixedCost = function(event) {\n    var fixedCostId,\n      _this = this;\n    fixedCostId = this.model.get(\"fixedCostId\" || null);\n    if (fixedCostId != null) {\n      return $.ajax({\n        url: '/rbifixedcost/' + fixedCostId,\n        type: 'DELETE',\n        success: function(result) {\n          console.log(\"Delete fixed cost success.\");\n          _this.destroyPopupFixedCost(event);\n          return $('#search-text').keyup();\n        },\n        error: function() {\n          return console.log(\"Delete fixed cost failed.\");\n        }\n      });\n    }\n  };\n\n  EntryView.prototype.prepareFixedCost = function(event) {\n    var accountNumber, currentUniquery, fixedCostToRegister, jqPopup, neededRequest, userChoice,\n      _this = this;\n    jqPopup = $(event.currentTarget).parent();\n    userChoice = jqPopup.children('input[type=radio]:checked').val();\n    accountNumber = window.rbiActiveData.bankAccount.get('accountNumber');\n    neededRequest = false;\n    fixedCostToRegister = {\n      type: userChoice,\n      accountNumber: accountNumber,\n      idTable: []\n    };\n    switch (userChoice) {\n      case 'standard':\n        this.data = {\n          accounts: [accountNumber],\n          searchText: \"\",\n          exactSearchText: this.operationTitle,\n          dateFrom: null,\n          dateTo: new Date()\n        };\n        if (this.operationMax < this.operationMin) {\n          this.data.amountFrom = this.operationMax;\n          this.data.amountTo = this.operationMin;\n        } else {\n          this.data.amountFrom = this.operationMin;\n          this.data.amountTo = this.operationMax;\n        }\n        currentUniquery = accountNumber + '(#|#)' + this.operationTitle;\n        currentUniquery += '(#|#)' + this.data.amountFrom + '(#|#)' + this.data.amountTo;\n        fixedCostToRegister.uniquery = currentUniquery;\n        neededRequest = true;\n        break;\n      case 'onetime':\n        fixedCostToRegister.uniquery = \"\";\n        fixedCostToRegister.idTable.push(this.model.get('id'));\n        break;\n      case 'custom':\n        console.log('custom not ready ');\n    }\n    if (neededRequest) {\n      return $.ajax({\n        type: \"POST\",\n        url: \"bankoperations/query\",\n        data: this.data,\n        success: function(objects) {\n          var object, _i, _len;\n          console.log(\"get operation linked request sent successfully!\");\n          if ((objects != null) && objects.length > 0) {\n            for (_i = 0, _len = objects.length; _i < _len; _i++) {\n              object = objects[_i];\n              fixedCostToRegister.idTable.push(object.id);\n            }\n            return _this.saveFixedCost(fixedCostToRegister, function() {\n              _this.destroyPopupFixedCost(event);\n              return $('#search-text').keyup();\n            });\n          } else {\n            return console.log(\"Operation(s) not found\");\n          }\n        },\n        error: function(err) {\n          return console.log(\"there was an error\");\n        }\n      });\n    } else {\n      return this.saveFixedCost(fixedCostToRegister, function() {\n        _this.destroyPopupFixedCost(event);\n        return $('#search-text').keyup();\n      });\n    }\n  };\n\n  EntryView.prototype.switchFixedCostIcon = function(event) {\n    var jqFixedCostIcon;\n    jqFixedCostIcon = $(event.currentTarget);\n    if ((jqFixedCostIcon.attr('data-icon')) === '') {\n      return jqFixedCostIcon.attr('data-icon', '');\n    } else {\n      return jqFixedCostIcon.attr('data-icon', '');\n    }\n  };\n\n  EntryView.prototype.popupFixedCost = function(event) {\n    var idValidationBtn, jqFixedCostIcon, jqIconParent, jqPopup, newFixedCost, popupTitle;\n    jqFixedCostIcon = $(event.currentTarget);\n    jqIconParent = jqFixedCostIcon.parent();\n    newFixedCost = jqFixedCostIcon.hasClass('variable-cost');\n    popupTitle = \"Ajouter aux frais fixes\";\n    idValidationBtn = \"save-fixed-cost\";\n    if (newFixedCost) {\n      jqFixedCostIcon.attr('data-icon', '');\n    } else {\n      jqFixedCostIcon.attr('data-icon', '');\n      popupTitle = \"Retirer des frais fixes\";\n      idValidationBtn = \"remove-fixed-cost\";\n    }\n    jqPopup = $('<div class=\"popup-fixed-cost\"></div>');\n    jqFixedCostIcon.appendTo(jqPopup);\n    jqPopup.append('<span class=\"fixed-cost-title\">' + popupTitle + '</span>');\n    jqPopup.append('<button type=\"button\" id=\"' + idValidationBtn + '\" class=\"btn btn-xs btn-primary\">Valider</button>');\n    jqPopup.append('<button type=\"button\" id=\"cancel-fixed-cost\" class=\"btn btn-xs btn-danger\" >Annuler</button>');\n    this.operationTitle = this.model.get('title');\n    if (newFixedCost) {\n      this.operationMax = parseFloat((this.model.get('amount')) * 1.1);\n      this.operationMin = parseFloat((this.model.get('amount')) * 0.9);\n      jqPopup.append('<input type=\"radio\" name=\"fixed-cost-option\" value=\"standard\" checked=\"true\" /> <label>Toutes les opérations intitulées \"' + this.operationTitle + '\" d\\'un montant entre  ' + this.operationMin.money() + ' et ' + this.operationMax.money() + '</label><br />');\n      jqPopup.append('<input type=\"radio\" name=\"fixed-cost-option\" value=\"onetime\" /> <label>Seulement cette opération</label><br />');\n      jqPopup.append('<input type=\"radio\" name=\"fixed-cost-option\" valur=\"custom\" disabled=\"true\" /> <label>Définir une règle</label>');\n    } else {\n      jqPopup.append('<p>Cette action enlevera l\\'opération des frais fixes, ainsi que <strong>les autres opérations précédemment associées</strong>.</p>');\n    }\n    return jqPopup.appendTo(jqIconParent);\n  };\n\n  EntryView.prototype.saveFixedCost = function(fixedCost, callback) {\n    var _this = this;\n    return $.ajax({\n      type: \"POST\",\n      url: \"rbifixedcost\",\n      data: fixedCost,\n      success: function(objects) {\n        var id, _i, _len, _ref;\n        console.log(\"fixed cost sent successfully!\");\n        _this.model.set(\"fixedCostId\", objects.id);\n        _this.model.set(\"isFixedCost\", true);\n        _ref = fixedCost.idTable;\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          id = _ref[_i];\n          if (window.rbiCurrentOperations[id] != null) {\n            window.rbiCurrentOperations[id].isFixedCost = true;\n            window.rbiCurrentOperations[id].fixedCostId = fixedCost.id;\n          }\n        }\n        window.views.monthlyAnalysisView.displayMonthlySums(window.rbiCurrentOperations);\n        return callback();\n      },\n      error: function(err) {\n        return console.log(\"there was an error\");\n      }\n    });\n  };\n\n  return EntryView;\n\n})(BaseView);\n","var BankTitleView, BaseView,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBaseView = require('../lib/base_view');\n\nmodule.exports = BankTitleView = (function(_super) {\n  __extends(BankTitleView, _super);\n\n  BankTitleView.prototype.template = require('./templates/configuration_bank_title');\n\n  BankTitleView.prototype.tagName = 'span';\n\n  function BankTitleView(model) {\n    this.model = model;\n    BankTitleView.__super__.constructor.call(this);\n  }\n\n  BankTitleView.prototype.initialize = function() {\n    this.listenTo(this.model, 'change', this.update);\n    this.listenTo(this.model.accounts, \"add\", this.update);\n    this.listenTo(this.model.accounts, \"destroy\", this.update);\n    this.listenTo(this.model.accounts, \"request\", this.displayLoading);\n    return this.listenTo(this.model.accounts, \"change\", this.hideLoading);\n  };\n\n  BankTitleView.prototype.displayLoading = function() {\n    return this.$(\".bank-title-loading\").show();\n  };\n\n  BankTitleView.prototype.hideLoading = function() {\n    return this.$(\".bank-title-loading\").hide();\n  };\n\n  BankTitleView.prototype.update = function() {\n    this.model.set(\"amount\", this.model.accounts.getSum());\n    this.$(\".bank-amount\").html(Number(this.model.get('amount')).money());\n    if (this.model.accounts.length === 0) {\n      this.$(\".bank-title\").hide();\n      this.$(\".bank-balance\").hide();\n    } else {\n      this.$(\".bank-title\").show();\n      this.$(\".bank-balance\").show();\n    }\n    return this.$(\".bank-title-loading\").hide();\n  };\n\n  BankTitleView.prototype.render = function() {\n    BankTitleView.__super__.render.call(this);\n    this.update();\n    return this;\n  };\n\n  return BankTitleView;\n\n})(BaseView);\n","var BaseView, ComparedAnalysisView, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBaseView = require('../lib/base_view');\n\nmodule.exports = ComparedAnalysisView = (function(_super) {\n  __extends(ComparedAnalysisView, _super);\n\n  function ComparedAnalysisView() {\n    _ref = ComparedAnalysisView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  ComparedAnalysisView.prototype.template = require('./templates/compared_analysis');\n\n  ComparedAnalysisView.prototype.el = 'div#interface-box';\n\n  ComparedAnalysisView.prototype.subViews = [];\n\n  ComparedAnalysisView.prototype.initialize = function() {};\n\n  ComparedAnalysisView.prototype.render = function() {\n    var view;\n    ComparedAnalysisView.__super__.render.call(this);\n    view = this;\n    return this;\n  };\n\n  return ComparedAnalysisView;\n\n})(BaseView);\n","var BaseView, Config, ConfigurationBankView, ConfigurationView, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBaseView = require('../lib/base_view');\n\nConfig = require('models/user_configuration');\n\nConfigurationBankView = require('./configuration_bank');\n\nmodule.exports = ConfigurationView = (function(_super) {\n  __extends(ConfigurationView, _super);\n\n  function ConfigurationView() {\n    _ref = ConfigurationView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  ConfigurationView.prototype.template = require('./templates/configuration');\n\n  ConfigurationView.prototype.el = '#configuration';\n\n  ConfigurationView.prototype.elAccounts = 'select#account-choice';\n\n  ConfigurationView.prototype.accounts = 0;\n\n  ConfigurationView.prototype.subViews = [];\n\n  ConfigurationView.prototype.events = {\n    'change select#account-choice': 'reloadBudget',\n    'keyup #configuration-budget-amount': 'setBudget'\n  };\n\n  ConfigurationView.prototype.reloadBudget = function() {\n    var accountNumber, budgetByAccount, currentBudget;\n    accountNumber = window.rbiActiveData.accountNumber;\n    budgetByAccount = window.rbiActiveData.budgetByAccount || [];\n    currentBudget = budgetByAccount[accountNumber] || 0;\n    if (currentBudget > 0) {\n      $('#account-budget-amount').val(budgetByAccount[accountNumber]);\n      $('#configuration-budget-amount').val(budgetByAccount[accountNumber]);\n    } else {\n      $('#account-budget-amount').val(0);\n      $('#configuration-budget-amount').val(0);\n    }\n    return this.getLastMonthDebitAmount(currentBudget, function(percentage) {\n      if (this.currentChart != null) {\n        return $('#current-budget-chart').data('easyPieChart').update(percentage);\n      } else {\n        return this.currentChart = $('#current-budget-chart').easyPieChart({\n          animate: 1500,\n          barColor: window.rbiColors.blue,\n          trackColor: window.rbiColors.border_color,\n          scaleColor: window.rbiColors.blue,\n          lineWidth: 2\n        });\n      }\n    });\n  };\n\n  ConfigurationView.prototype.getLastMonthDebitAmount = function(budgetValue, callback) {\n    var criteria, now;\n    now = moment(new Date());\n    criteria = {\n      dateFrom: new Date(moment(now.startOf('month')).format('YYYY-MM-DD')),\n      dateTo: new Date(),\n      debits: true,\n      accounts: [window.rbiActiveData.accountNumber]\n    };\n    return $.ajax({\n      type: \"POST\",\n      url: \"bankoperations/byDate\",\n      data: criteria,\n      success: function(operations) {\n        var amount, operation, percentage, rest, _i, _len;\n        amount = 0;\n        for (_i = 0, _len = operations.length; _i < _len; _i++) {\n          operation = operations[_i];\n          amount += operation.amount;\n        }\n        if (!isNaN(amount)) {\n          amount = Math.abs(amount);\n          percentage = parseInt((amount / budgetValue) * 100);\n          percentage = percentage <= 100 ? percentage : 100;\n          rest = budgetValue - amount;\n          $('#current-budget-chart-debit').html(rest.money());\n          $('#current-budget-chart').attr('data-percent', percentage);\n          return callback(percentage);\n        }\n      },\n      error: function(err) {\n        return console.log(\"getting fixed cost failed.\");\n      }\n    });\n  };\n\n  ConfigurationView.prototype.setBudget = function(event, view) {\n    var accountNumber, budgetValue, jqBudgetInput,\n      _this = this;\n    budgetValue = 0;\n    jqBudgetInput = $(event.currentTarget);\n    budgetValue = jqBudgetInput.val();\n    if (!/^(\\d+(?:[\\.\\,]\\d{2})?)$/.test(budgetValue)) {\n      return $('.info-user').css('color', window.rbiColors.red).html('La valeur du budget semble incomplète ou érronée&nbsp;');\n    } else {\n      $('.info-user').css('color', 'inherit').html('Les modifications sont prises en compte instantanément&nbsp;');\n      budgetValue = parseFloat(budgetValue.replace(\" \", \"\").replace(\",\", \".\"));\n      if (isNaN(budgetValue)) {\n        budgetValue = 0;\n      }\n      if (budgetValue > 0) {\n        accountNumber = window.rbiActiveData.accountNumber;\n        window.rbiActiveData.budgetByAccount[accountNumber] = budgetValue;\n        return window.rbiActiveData.config.save({\n          budgetByAccount: window.rbiActiveData.budgetByAccount\n        }, {\n          success: function() {\n            $('#account-budget-amount').val(budgetValue);\n            if (view) {\n              return view.reloadBudget();\n            } else {\n              return _this.reloadBudget();\n            }\n          },\n          error: function() {\n            return console.log('Error: budget configuration not saved');\n          }\n        });\n      }\n    }\n  };\n\n  ConfigurationView.prototype.afterRender = function() {\n    var view;\n    $(this.elAccounts).change(function() {\n      return this.options[this.selectedIndex].click();\n    });\n    view = this;\n    return $('#account-budget-amount').keyup(function(event) {\n      return view.setBudget(event, view);\n    });\n  };\n\n  ConfigurationView.prototype.initialize = function() {\n    return window.rbiActiveData.config = new Config({});\n  };\n\n  ConfigurationView.prototype.render = function() {\n    var _this = this;\n    ConfigurationView.__super__.render.call(this);\n    window.rbiActiveData.config.fetch({\n      success: function(currentConfig) {\n        var accountNumber, budgetByAccount, treatment, view;\n        accountNumber = currentConfig.get('accountNumber') || \"\";\n        if (accountNumber !== \"\") {\n          window.rbiActiveData.accountNumber = accountNumber;\n          budgetByAccount = currentConfig.get('budgetByAccount') || {};\n          window.rbiActiveData.budgetByAccount = budgetByAccount;\n          _this.reloadBudget();\n        }\n        view = _this;\n        treatment = function(bank, callback) {\n          var viewBank;\n          viewBank = new ConfigurationBankView(bank);\n          view.subViews.push(viewBank);\n          $(view.elAccounts).append(viewBank.el);\n          return bank.accounts.fetch({\n            success: function(col) {\n              callback(null, col.length);\n              if (col.length > 0) {\n                return viewBank.render();\n              }\n            },\n            error: function(col, err, opts) {\n              callback(null, col.length);\n              return viewBank.$el.html(\"\");\n            }\n          });\n        };\n        return async.concat(window.collections.banks.models, treatment, function(err, results) {\n          if (err) {\n            console.log(err);\n            alert(window.i18n(\"error_loading_accounts\"));\n          }\n          this.accounts = results.length;\n          if (this.accounts === 0) {\n            $(view.elAccounts).prepend(require(\"./templates/balance_banks_empty\"));\n          }\n          if (accountNumber === \"\") {\n            if ($(\"#account-choice option\").not(':disabled')[0] != null) {\n              return $(\"#account-choice option\").not(':disabled')[0].click();\n            }\n          }\n        });\n      }\n    });\n    return this;\n  };\n\n  return ConfigurationView;\n\n})(BaseView);\n","var BankSubTitleView, BankTitleView, BaseView, ConfigurationBankView,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBaseView = require('../lib/base_view');\n\nBankTitleView = require('./bank_title');\n\nBankSubTitleView = require('./configuration_bank_account');\n\nmodule.exports = ConfigurationBankView = (function(_super) {\n  __extends(ConfigurationBankView, _super);\n\n  ConfigurationBankView.prototype.className = \"unclickable-option\";\n\n  ConfigurationBankView.prototype.tagName = \"option\";\n\n  ConfigurationBankView.prototype.attributes = {\n    'disabled': 'true'\n  };\n\n  ConfigurationBankView.prototype.sum = 0;\n\n  ConfigurationBankView.prototype.subViews = [];\n\n  function ConfigurationBankView(bank) {\n    this.bank = bank;\n    ConfigurationBankView.__super__.constructor.call(this);\n  }\n\n  ConfigurationBankView.prototype.addOne = function(account) {\n    var viewAccount;\n    console.log('add one bank view');\n    viewAccount = new BankSubTitleView(account);\n    this.subViews.push(viewAccount);\n    account.view = viewAccount;\n    return this.$el.after(viewAccount.render().el);\n  };\n\n  ConfigurationBankView.prototype.render = function() {\n    var account, _i, _len, _ref;\n    console.log('render bank view');\n    this.viewTitle = new BankTitleView(this.bank);\n    this.$el.html(this.viewTitle.render().el);\n    this.viewTitle = null;\n    this.sum = 0;\n    _ref = this.bank.accounts.models;\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      account = _ref[_i];\n      this.addOne(account);\n    }\n    return this;\n  };\n\n  ConfigurationBankView.prototype.destroy = function() {\n    var view, _i, _len, _ref, _ref1;\n    if ((_ref = this.viewTitle) != null) {\n      _ref.destroy();\n    }\n    _ref1 = this.subViews;\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      view = _ref1[_i];\n      view.destroy();\n    }\n    return ConfigurationBankView.__super__.destroy.call(this);\n  };\n\n  return ConfigurationBankView;\n\n})(BaseView);\n","var BankSubTitleView, BaseView,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBaseView = require('../lib/base_view');\n\nmodule.exports = BankSubTitleView = (function(_super) {\n  __extends(BankSubTitleView, _super);\n\n  BankSubTitleView.prototype.tagName = 'option';\n\n  BankSubTitleView.prototype.template = require('./templates/configuration_bank_account');\n\n  function BankSubTitleView(model) {\n    this.model = model;\n    BankSubTitleView.__super__.constructor.call(this);\n  }\n\n  BankSubTitleView.prototype.events = {\n    'click': 'chooseAccount'\n  };\n\n  BankSubTitleView.prototype.formattedAmounts = [];\n\n  BankSubTitleView.prototype.initialize = function() {\n    return this.listenTo(window.activeObjects, 'changeActiveAccount', this.checkActive);\n  };\n\n  BankSubTitleView.prototype.afterRender = function() {\n    var accountNumber;\n    accountNumber = window.rbiActiveData.accountNumber;\n    if ((accountNumber !== \"\") && (accountNumber === this.model.get('accountNumber'))) {\n      return this.chooseAccount();\n    }\n  };\n\n  BankSubTitleView.prototype.chooseAccount = function(event) {\n    var today;\n    this.$el.attr('selected', 'true');\n    window.activeObjects.trigger(\"changeActiveAccount\", this.model);\n    window.rbiActiveData.config.save({\n      accountNumber: this.model.get('accountNumber'),\n      error: function() {\n        return console.log('Error: configuration not saved');\n      }\n    });\n    window.rbiActiveData.accountNumber = this.model.get('accountNumber');\n    window.rbiActiveData.bankAccount = this.model;\n    today = this.formatDate(new Date());\n    $(\"#current-amount-date\").text(today);\n    $(\"#account-amount-balance\").html((this.model.get('amount')).money());\n    return this.loadLastYearAmounts(this.model, function() {\n      return window.views.monthlyAnalysisView.render();\n    });\n  };\n\n  BankSubTitleView.prototype.checkActive = function(account) {\n    this.$(\".row\").removeClass(\"active\");\n    if (account === this.model) {\n      return this.$(\".row\").addClass(\"active\");\n    }\n  };\n\n  BankSubTitleView.prototype.loadLastYearAmounts = function(account, callback) {\n    var view;\n    view = this;\n    window.collections.amounts.reset();\n    window.collections.amounts.setAccount(account);\n    return window.collections.amounts.fetch({\n      success: function(amounts) {\n        view.setupLastYearAmountsFlot(amounts);\n        $(window).resize(function() {\n          return view.setupLastYearAmountsFlot(amounts);\n        });\n        if (callback != null) {\n          return callback();\n        }\n      },\n      error: function() {\n        return console.log(\"error fetching amounts of last year\");\n      }\n    });\n  };\n\n  BankSubTitleView.prototype.formatDate = function(date) {\n    var day, month, year;\n    day = ('0' + date.getDate()).slice(-2);\n    month = ('0' + (date.getMonth() + 1)).slice(-2);\n    year = date.getFullYear();\n    return day + '/' + month + '/' + year;\n  };\n\n  BankSubTitleView.prototype.setupLastYearAmountsFlot = function(amounts) {\n    var currentDate, dayCounter2, dayRatio, daysPerMonth, flotReadyAmounts, lastAmount, maxAmount, minAmount, numberOfDays, plot, sixMonthAgo, threeMonthAgo, view;\n    view = this;\n    this.formattedAmounts = [];\n    flotReadyAmounts = [];\n    daysPerMonth = {\n      twelve: 365,\n      six: 365 / 2,\n      three: 365 / 4\n    };\n    numberOfDays = daysPerMonth.three;\n    threeMonthAgo = new Date();\n    threeMonthAgo = threeMonthAgo.setMonth(threeMonthAgo.getMonth() - 3);\n    sixMonthAgo = new Date();\n    sixMonthAgo = sixMonthAgo.setMonth(sixMonthAgo.getMonth() - 6);\n    dayRatio = 4;\n    amounts.each(function(amount) {\n      var amountDate, currentDate1, dayCounter1;\n      if (window.rbiActiveData.olderOperationDate > moment(amount.get('date'))) {\n        window.rbiActiveData.olderOperationDate = moment(amount.get('date'));\n      }\n      console.log(\"before set date\");\n      currentDate1 = new Date();\n      currentDate1.setHours(12, 0, 0, 0);\n      amountDate = new Date(amount.get('date'));\n      amountDate.setHours(12, 0, 0, 0);\n      console.log(currentDate1);\n      console.log(amountDate);\n      console.log(\"after set date\");\n      console.log(currentDate1);\n      console.log(amountDate);\n      dayCounter1 = 0;\n      console.log(\"before while\");\n      while ((amountDate.getTime() !== currentDate1.getTime()) && (dayCounter1 < 365)) {\n        currentDate1.setDate(currentDate1.getDate() - 1);\n        dayCounter1++;\n      }\n      if (dayCounter1 < 364) {\n        view.formattedAmounts[currentDate1.getTime()] = amount.get('amount');\n      }\n      if (currentDate1.getTime() < threeMonthAgo) {\n        numberOfDays = daysPerMonth.six;\n      } else if (currentDate1.getTime() < sixMonthAgo) {\n        numberOfDays = daysPerMonth.twelve;\n      }\n      console.log(\"after while\");\n      return console.log(currentDate1);\n    });\n    currentDate = new Date();\n    currentDate.setHours(12, 0, 0, 0);\n    lastAmount = parseFloat(this.model.get('amount'));\n    minAmount = parseFloat(this.model.get('amount'));\n    maxAmount = parseFloat(this.model.get('amount'));\n    dayCounter2 = 0;\n    while (dayCounter2 < numberOfDays) {\n      if (this.formattedAmounts[currentDate.getTime()]) {\n        lastAmount = parseFloat(this.formattedAmounts[currentDate.getTime()]);\n      }\n      flotReadyAmounts.push([currentDate.getTime(), lastAmount]);\n      currentDate.setDate(currentDate.getDate() - 1);\n      if (lastAmount < minAmount) {\n        minAmount = lastAmount;\n      }\n      if (lastAmount > maxAmount) {\n        maxAmount = lastAmount;\n      }\n      dayCounter2++;\n    }\n    $(\"#max-amount\").html(maxAmount.money());\n    $(\"#min-amount\").html(minAmount.money());\n    minAmount = minAmount - 500;\n    maxAmount = maxAmount + 500;\n    flotReadyAmounts.reverse();\n    $('#amount-stats').empty();\n    return plot = $.plot(\"#amount-stats\", [\n      {\n        data: flotReadyAmounts\n      }\n    ], {\n      series: {\n        lines: {\n          show: true,\n          lineWidth: 2\n        },\n        points: {\n          show: false\n        }\n      },\n      grid: {\n        hoverable: true,\n        clickable: true,\n        borderWidth: 1,\n        tickColor: $border_color,\n        borderColor: '#eeeeee'\n      },\n      colors: [window.rbiColors.blue],\n      shadowSize: 0,\n      yaxis: {\n        min: minAmount,\n        max: maxAmount\n      },\n      xaxis: {\n        mode: \"time\",\n        minTickSize: [1, \"month\"],\n        monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre']\n      },\n      tooltip: true,\n      tooltipOpts: {\n        content: '%y.2&euro;<br /> %x',\n        xDateFormat: '%d/%m/%y'\n      }\n    });\n  };\n\n  return BankSubTitleView;\n\n})(BaseView);\n","var BaseView, MenuView, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBaseView = require('../lib/base_view');\n\nmodule.exports = MenuView = (function(_super) {\n  __extends(MenuView, _super);\n\n  function MenuView() {\n    _ref = MenuView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  MenuView.prototype.template = require('./templates/menu');\n\n  MenuView.prototype.el = 'div#mainnav';\n\n  MenuView.prototype.events = {\n    'click .menu-item': 'activateMenuItem'\n  };\n\n  MenuView.prototype.subViews = [];\n\n  MenuView.prototype.initialize = function() {};\n\n  MenuView.prototype.render = function() {\n    var view;\n    MenuView.__super__.render.call(this);\n    view = this;\n    return this;\n  };\n\n  MenuView.prototype.activateMenuItem = function(event) {\n    var jqMenuItem;\n    jqMenuItem = $(event.currentTarget);\n    if (!jqMenuItem.hasClass('active')) {\n      $('.menu-item').removeClass('active');\n      $('.current-arrow').remove();\n      jqMenuItem.addClass('active');\n      jqMenuItem.prepend($('<span class=\"current-arrow\"></span>'));\n    }\n    if ($(window).width() < 768) {\n      return window.scrollTo(0, 535);\n    }\n  };\n\n  return MenuView;\n\n})(BaseView);\n","var BankStatementView, BaseView, MonthlyAnalysisView, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBaseView = require('../lib/base_view');\n\nBankStatementView = require(\"./bank_statement\");\n\nmodule.exports = MonthlyAnalysisView = (function(_super) {\n  __extends(MonthlyAnalysisView, _super);\n\n  function MonthlyAnalysisView() {\n    _ref = MonthlyAnalysisView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  MonthlyAnalysisView.prototype.template = require('./templates/monthly_analysis');\n\n  MonthlyAnalysisView.prototype.el = 'div#interface-box';\n\n  MonthlyAnalysisView.prototype.subViews = [];\n\n  MonthlyAnalysisView.prototype.currentMonthStart = '';\n\n  MonthlyAnalysisView.prototype.events = {\n    'click .month-switcher': 'switchMonth',\n    'click #credits-search-btn': 'searchAllCredits',\n    'click #debits-search-btn': 'searchAllDebits',\n    'click #fixed-cost-search-btn': 'searchAllFixedCost',\n    'click #variable-cost-search-btn': 'searchAllVariableCost'\n  };\n\n  MonthlyAnalysisView.prototype.initialize = function() {\n    return this.bankStatementView = new BankStatementView($('#context-box'));\n  };\n\n  MonthlyAnalysisView.prototype.render = function() {\n    MonthlyAnalysisView.__super__.render.call(this);\n    this.switchMonth();\n    return this;\n  };\n\n  MonthlyAnalysisView.prototype.searchAllCredits = function() {\n    $('#search-text').val(\"#credits\");\n    return $('#search-text').keyup();\n  };\n\n  MonthlyAnalysisView.prototype.searchAllDebits = function() {\n    $('#search-text').val(\"#debits\");\n    return $('#search-text').keyup();\n  };\n\n  MonthlyAnalysisView.prototype.searchAllFixedCost = function() {\n    $('#search-text').val(\"#frais-fixes\");\n    return $('#search-text').keyup();\n  };\n\n  MonthlyAnalysisView.prototype.searchAllVariableCost = function() {\n    $('#search-text').val(\"#depenses\");\n    return $('#search-text').keyup();\n  };\n\n  MonthlyAnalysisView.prototype.switchMonth = function(event) {\n    var bankStatementParams, currentMonth, firstMonth, jqSwitcher, monthlyAmounts,\n      _this = this;\n    currentMonth = moment(new Date()).startOf('month').format(\"YYYY-MM-DD\");\n    firstMonth = moment(window.rbiActiveData.olderOperationDate).startOf('month').format(\"YYYY-MM-DD\");\n    $('#search-text').val(\"\");\n    if ((event != null) && (event.currentTarget != null)) {\n      jqSwitcher = $(event.currentTarget);\n      if (jqSwitcher.hasClass('previous-month')) {\n        this.currentMonthStart.subtract('months', 1).startOf('month');\n      } else if (jqSwitcher.hasClass('next-month')) {\n        this.currentMonthStart.add('months', 1).startOf('month');\n      }\n    } else {\n      this.currentMonthStart = moment(new Date()).startOf('month');\n    }\n    if ((moment(this.currentMonthStart).format(\"YYYY-MM-DD\")) === currentMonth) {\n      $('.next-month').hide();\n    } else {\n      $('.next-month').show();\n    }\n    if ((firstMonth !== currentMonth) && (moment(this.currentMonthStart).format(\"YYYY-MM-DD\") === firstMonth)) {\n      $('.previous-month').hide();\n    } else {\n      $('.previous-month').show();\n    }\n    this.$(\"#current-month\").html(moment(this.currentMonthStart).format(\"MMMM YYYY\"));\n    if (window.rbiActiveData.bankAccount != null) {\n      monthlyAmounts = this.getAmountsByMonth(this.currentMonthStart);\n      this.displayMonthlyAmounts(monthlyAmounts.previous, monthlyAmounts.next);\n      bankStatementParams = {\n        dateFrom: this.currentMonthStart,\n        dateTo: moment(this.currentMonthStart).endOf('month')\n      };\n      return this.bankStatementView.reload(bankStatementParams, function(operations) {\n        _this.displayMonthlySums(operations);\n        _this.displayPieChart(operations);\n        return $(window).resize(function() {\n          return _this.displayPieChart(operations);\n        });\n      });\n    }\n  };\n\n  MonthlyAnalysisView.prototype.displayMonthlyAmounts = function(previous, next) {\n    var differential, iconEvolution, sign;\n    differential = next - previous;\n    sign = '';\n    $(\"#amount-month-start\").html(previous.money());\n    $(\"#amount-month-end\").html(next.money());\n    $(\"#amount-month-differential\").empty();\n    if ((!isNaN(differential)) && differential !== 0) {\n      if (differential > 0) {\n        sign = '+';\n        iconEvolution = $('<span class=\"fs1 plain-icon-blue\" aria-hidden=\"true\" data-icon=\"&#57641;\"></span>');\n        if ($(\"#amount-month-differential\").hasClass(\"red-text\")) {\n          $(\"#amount-month-differential\").removeClass(\"red-text\").addClass(\"blue-text\");\n        }\n      } else {\n        if ($(\"#amount-month-differential\").hasClass(\"blue-text\")) {\n          $(\"#amount-month-differential\").removeClass(\"blue-text\").addClass(\"red-text\");\n        }\n        iconEvolution = $('<span class=\"fs1 plain-icon-red\" aria-hidden=\"true\" data-icon=\"&#57643;\"></span>');\n      }\n      $(\"#amount-month-differential\").append(iconEvolution);\n      return $(\"#amount-month-differential\").append(sign + differential.money());\n    }\n  };\n\n  MonthlyAnalysisView.prototype.displayMonthlySums = function(operations) {\n    var credits, debits, fixedCost, key, operation, variableCost;\n    credits = 0;\n    debits = 0;\n    fixedCost = 0;\n    variableCost = 0;\n    if (operations != null) {\n      for (key in operations) {\n        operation = operations[key];\n        if (operation.amount > 0) {\n          credits += operation.amount;\n        } else {\n          debits += operation.amount;\n        }\n        if (operation.isFixedCost && operation.amount < 0) {\n          fixedCost += operation.amount;\n        } else if ((!operation.isFixedCost) && operation.amount < 0) {\n          variableCost += operation.amount;\n        }\n      }\n    }\n    $('#credits-sum').html(credits.money());\n    $('#debits-sum').html((Math.abs(debits)).money());\n    $('#fixed-cost-sum').html((Math.abs(fixedCost)).money());\n    return $('#variable-cost-sum').html((Math.abs(variableCost)).money());\n  };\n\n  MonthlyAnalysisView.prototype.displayPieChart = function(operations) {\n    var amount, chart, chartColors, data, dataTable, finalObj, finalType, id, isKnownType, numberformatter, obj, operation, operationTypes, options, others, pattern, raw, type, _i, _len, _ref1;\n    $('#pie_chart').empty();\n    chartColors = [];\n    operationTypes = {\n      withdrawals: {\n        name: \"Retraits\",\n        amount: 0,\n        color: \"#8ecf67\",\n        patterns: [/^CARTE \\w+ RETRAIT DAB.* (0[1-9]|[12][0-9]|3[01])\\/(0[1-9]|1[012]).*/g, /^CARTE \\w+ (0[1-9]|[12][0-9]|3[01])\\/(0[1-9]|1[012]).* RETRAIT DAB.*/g, /^CARTE RETRAIT .*/g, /RETRAIT DAB (0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[012]).*/g]\n      },\n      payback: {\n        name: 'Remboursements',\n        amount: 0,\n        color: \"#fac567\",\n        patterns: [/^CARTE \\w+ REMBT (0[1-9]|[12][0-9]|3[01])\\/(0[1-9]|1[012]).*/g]\n      },\n      carte: {\n        name: \"CB\",\n        amount: 0,\n        color: \"#F08C56\",\n        patterns: [/^CARTE \\w+ (0[1-9]|[12][0-9]|3[01])\\/(0[1-9]|1[012]) .*/g, /^CARTE (0[1-9]|[12][0-9]|3[01])(0[1-9]|1[012]).* \\d+ .*/g]\n      },\n      orders: {\n        name: 'Prélèvements',\n        amount: 0,\n        color: \"#87ceeb\",\n        patterns: [/^(COTISATION|PRELEVEMENT|TELEREGLEMENT|TIP) .*/g, /^(PRLV|PRELEVEMENT) .*$/g, /^.* QUITTANCE .*/g]\n      },\n      transfer: {\n        name: 'Virements',\n        amount: 0,\n        color: \"#f74e4d\",\n        patterns: [/^(\\d+ )?VIR (PERM )?POUR: (.*?) (REF: \\d+ )?MOTIF: (.*)/g, /^(VIR(EMEN)?T?) \\w+ (.*)/g, /^VIR COOPA (0[1-9]|[12][0-9]|3[01])\\/(0[1-9]|1[012]) (.*)/g, /^VIR(EMENT|EMT)? (.*?)(- .*)?$/g]\n      },\n      check: {\n        name: \"Chèques\",\n        amount: 0,\n        color: \"#28D8CA\",\n        patterns: [/^(CHEQUE) (.*)/g, /^CHEQUE.*/g]\n      },\n      bank: {\n        name: \"Frais bancaires\",\n        amount: 0,\n        color: \"#8E3CBE\",\n        patterns: [/^(FRAIS) (.*)/g, /^(AGIOS \\/|FRAIS) (.*)/g, /^ABONNEMENT (.*)/g]\n      },\n      loan_payment: {\n        name: \"Prêts\",\n        amount: 0,\n        color: '#CF68C1',\n        patterns: [/^ECHEANCEPRET(.*)/g]\n      },\n      deposit: {\n        name: 'Remise de chèques',\n        amount: 0,\n        color: '#4D3CBE',\n        patterns: [/^REMISE CHEQUES(.*)/g, /^REMISE (.*)/g]\n      }\n    };\n    others = {\n      name: \"Autres\",\n      amount: 0,\n      color: \"#b0b0b0\"\n    };\n    for (id in operations) {\n      operation = operations[id];\n      if (operation.amount < 0) {\n        isKnownType = false;\n        raw = operation.raw.toLocaleUpperCase();\n        amount = Math.abs(operation.amount);\n        for (type in operationTypes) {\n          obj = operationTypes[type];\n          if (!isKnownType) {\n            _ref1 = obj.patterns;\n            for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n              pattern = _ref1[_i];\n              if (raw.search(pattern) >= 0) {\n                obj.amount += amount;\n                isKnownType = true;\n                break;\n              }\n            }\n          }\n        }\n        if (!isKnownType) {\n          others.amount += amount;\n        }\n      }\n    }\n    dataTable = [['Type', 'Montant']];\n    for (finalType in operationTypes) {\n      finalObj = operationTypes[finalType];\n      if (finalObj.amount > 0) {\n        dataTable.push([finalObj.name, finalObj.amount]);\n        chartColors.push(finalObj.color);\n      }\n    }\n    if (others.amount > 0) {\n      dataTable.push([others.name, others.amount]);\n      chartColors.push(others.color);\n    }\n    if (dataTable.length > 2) {\n      data = google.visualization.arrayToDataTable(dataTable);\n      numberformatter = new google.visualization.NumberFormat({\n        suffix: '€',\n        decimalSymbol: ',',\n        fractionDigits: ' '\n      });\n      numberformatter.format(data, 1);\n      options = {\n        width: 'auto',\n        height: '160',\n        backgroundColor: 'transparent',\n        colors: chartColors,\n        tooltip: {\n          textStyle: {\n            color: '#666666',\n            fontSize: 11\n          },\n          showColorCode: true\n        },\n        legend: {\n          position: 'right',\n          textStyle: {\n            color: 'black',\n            fontSize: 12\n          }\n        },\n        pieSliceText: 'value',\n        pieSliceTextStyle: {\n          fontSize: '13',\n          bold: 'true'\n        },\n        chartArea: {\n          left: 20,\n          top: 20,\n          height: \"180\",\n          width: \"300\"\n        }\n      };\n      chart = new google.visualization.PieChart(document.getElementById('pie_chart'));\n      return chart.draw(data, options);\n    }\n  };\n\n  MonthlyAnalysisView.prototype.getAmountsByMonth = function(monthStart) {\n    var amount, currentAmounts, currentDate, monthEnd, monthlyAmounts, nextAmount, nextDate, previousAmount, previousDate, _i, _len;\n    monthlyAmounts = [];\n    monthStart = moment(monthStart);\n    monthEnd = moment(moment(monthStart).endOf('month'));\n    nextAmount = (window.rbiActiveData.bankAccount.get('amount')) || null;\n    previousAmount = nextAmount;\n    nextDate = null;\n    previousDate = null;\n    currentAmounts = window.collections.amounts.models;\n    if ((currentAmounts != null) && currentAmounts.length > 0) {\n      for (_i = 0, _len = currentAmounts.length; _i < _len; _i++) {\n        amount = currentAmounts[_i];\n        currentDate = moment(amount.get('date'));\n        if (currentDate > monthEnd && currentDate <= moment()) {\n          if (nextDate == null) {\n            nextDate = moment(amount.get('date'));\n          }\n          if (currentDate < nextDate) {\n            nextAmount = amount.get('amount');\n            previousAmount = nextAmount;\n            nextDate = moment(amount.get('date'));\n          }\n        } else if (currentDate >= monthStart && currentDate <= monthEnd) {\n          if ((previousDate == null) || (currentDate < previousDate)) {\n            previousAmount = amount.get('amount');\n            previousDate = moment(amount.get('date'));\n          }\n        }\n      }\n    }\n    return monthlyAmounts = {\n      next: parseFloat(nextAmount),\n      previous: parseFloat(previousAmount)\n    };\n  };\n\n  return MonthlyAnalysisView;\n\n})(BaseView);\n","var BaseView, OnlineShoppingView, _ref,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nBaseView = require('../lib/base_view');\n\nmodule.exports = OnlineShoppingView = (function(_super) {\n  __extends(OnlineShoppingView, _super);\n\n  function OnlineShoppingView() {\n    _ref = OnlineShoppingView.__super__.constructor.apply(this, arguments);\n    return _ref;\n  }\n\n  OnlineShoppingView.prototype.template = require('./templates/online_shopping');\n\n  OnlineShoppingView.prototype.el = 'div#interface-box';\n\n  OnlineShoppingView.prototype.subViews = [];\n\n  OnlineShoppingView.prototype.initialize = function() {};\n\n  OnlineShoppingView.prototype.render = function() {\n    var view;\n    OnlineShoppingView.__super__.render.call(this);\n    view = this;\n    return this;\n  };\n\n  return OnlineShoppingView;\n\n})(BaseView);\n","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<h1>Alertes</h1><div></div>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<br/><br/><p class=\"loading\"></p>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<td class=\"operation-title\">' + escape((interp = model.get('title')) == null ? '' : interp) + '</td><td class=\"operation-amount text-right\">' + escape((interp = Number(model.get('amount')).money()) == null ? '' : interp) + '</td><td class=\"text-right\"><div class=\"popup-container\"><span');\nbuf.push(attrs({ 'aria-hidden':(\"true\"), 'data-icon':(\"\" + (model.costIcon) + \"\"), \"class\": ('fs1') + ' ' + ('iconCostType') + ' ' + (\"\" + (model.costClass) + \"\") }, {\"class\":true,\"aria-hidden\":true,\"data-icon\":true}));\nbuf.push('></span></div></td>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<h2>Relevé de compte</h2><h3>' + escape((interp = model.get('title')) == null ? '' : interp) + ' n°' + escape((interp = model.get(\"accountNumber\")) == null ? '' : interp) + '</h3><div class=\"search-field\"><span aria-hidden=\"true\" data-icon&#57471;=\"data-icon&#57471;\" class=\"icon-search fs1\"></span><input id=\"search-text\"/></div><div class=\"text-center loading loader-operations\"><img src=\"./loader_big_blue.gif\"/></div><table class=\"table table-bordered table-condensed table-striped table-hover table-bordered dataTable\"><tbody id=\"table-operations\"></tbody></table>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<h1>Analyse comparée</h1><div></div>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<div id=\"modalConfiguration\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"showModalLabel\" aria-hidden=\"true\" style=\"display: none;\" class=\"modal fade\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" data-dismiss=\"modal\" aria-hidden=\"true\" data-original-title=\"\" class=\"close\">×</button><h4 class=\"modal-title\">Paramètres</h4></div><div class=\"modal-body\"><label class=\"control-label\">Mon choix de compte</label><select id=\"account-choice\" size=\"1\" class=\"form-control input-lg\"></select><br/><label for=\"monthly-budget\" class=\"control-label\">Mon budget du mois</label><div class=\"input-group input-middle-size\"><input id=\"configuration-budget-amount\" type=\"text\" name=\"monthly-budget\" class=\"form-control\"/><span class=\"input-group-addon\">&euro;</span></div></div><div class=\"modal-footer\"><em class=\"info-user little-text\">Les modifications sont prises en compte instantanément&nbsp;</em><button type=\"button\" data-dismiss=\"modal\" data-original-title=\"\" class=\"btn btn-default\">J\\'ai terminé</button></div></div></div></div>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('' + escape((interp = model.get('title')) == null ? '' : interp) + ' n°' + escape((interp = model.get(\"accountNumber\")) == null ? '' : interp) + '');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('' + escape((interp = model.get('name')) == null ? '' : interp) + '');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<ul><li class=\"menu-item active\"><span class=\"current-arrow\"></span><a href=\"#analyse-mensuelle\"><div class=\"icon\"><span aria-hidden=\"true\" data-icon=\"&#57802;\" class=\"fs1\"></span></div>Analyse mensuelle</a></li><li class=\"menu-item\"><a href=\"#analyse-mensuelle-comparee\"><div class=\"icon\"><span aria-hidden=\"true\" data-icon=\"&#57802;\" class=\"fs1\"></span><span aria-hidden=\"true\" data-icon=\"&#57802;\" class=\"fs1\"></span></div>Analyse mensuelle comparée</a></li><li class=\"menu-item\"><a href=\"#achats-en-ligne\"><div class=\"icon\"><span aria-hidden=\"true\" data-icon=\"&#57398;\" class=\"fs1\"></span></div>Achats en ligne</a></li><li class=\"menu-item\"><a href=\"#alertes\"><div class=\"icon\"><span aria-hidden=\"true\" data-icon=\"&#57803;\" class=\"fs1\"></span></div>Alertes</a></li></ul>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<h1><span aria-hidden=\"true\" data-icon=\"&#57613;\" class=\"month-switcher previous-month pull-left fs1\"></span><span id=\"current-month\">Analyse mensuelle</span><span aria-hidden=\"true\" data-icon=\"&#57614;\" class=\"month-switcher next-month pull-right fs1\"></span></h1><table id=\"monthly-report\"><tr><td class=\"amount-month\"><div>solde de début de mois<hr/><span id=\"amount-month-start\" class=\"amount-number\"></span></div></td><td class=\"amount-month\"><div>solde de fin de mois<hr/><span id=\"amount-month-end\" class=\"amount-number\"></span><br/><span id=\"amount-month-differential\" class=\"blue-text amount-number-diff\"></span></div></td></tr><tr><td colspan=\"2\"><div class=\"col-md-1\"></div><div class=\"search-panel col-md-10\"><div class=\"search-btn-container col-lg-5 col-md-6 col-sm-6\"><div id=\"credits-search-btn\" class=\"search-btn grey1\"><span aria-hidden=\"true\" data-icon=\"&#57602;\" class=\"pull-left fs1 big-size-icon\"></span><span id=\"credits-sum\" class=\"pull-right big-size-text\">0 &euro;</span><br/><span class=\"pull-right little-size-text\">Crédits</span></div></div><div class=\"col-lg-2 search-separator\"></div><div class=\"search-btn-container col-lg-5 col-md-6 col-sm-6\"><div id=\"debits-search-btn\" class=\"search-btn grey2\"><span aria-hidden=\"true\" data-icon=\"&#57601;\" class=\"pull-left fs1 big-size-icon\"></span><span id=\"debits-sum\" class=\"pull-right big-size-text\">0 &euro;</span><br/><span class=\"pull-right little-size-text\">Débits</span></div></div></div><div class=\"col-md-1\"></div></td></tr><tr><td colspan=\"2\"><div class=\"col-md-1\"></div><div class=\"search-panel col-md-10\"><div class=\"search-btn-container col-lg-5 col-md-6 col-sm-6\"><div id=\"fixed-cost-search-btn\" class=\"search-btn grey3\"><span aria-hidden=\"true\" data-icon=\"&#57481;\" class=\"pull-left fs1 big-size-icon\"></span><span id=\"fixed-cost-sum\" class=\"pull-right big-size-text\">0 &euro;</span><br/><span class=\"pull-right little-size-text\">Frais fixes</span></div></div><div class=\"col-lg-2 search-separator\"></div><div class=\"search-btn-container col-lg-5 col-md-6 col-sm-6\"><div id=\"variable-cost-search-btn\" class=\"search-btn grey4\"><span aria-hidden=\"true\" data-icon=\"&#57393;\" class=\"pull-left fs1 big-size-icon\"></span><span id=\"variable-cost-sum\" class=\"pull-right big-size-text\">0 &euro;</span><br/><span class=\"pull-right little-size-text\">Dépenses</span></div></div></div><div class=\"col-md-1\"></div></td></tr><tr><td colspan=\"2\" class=\"google-pie-chart\"><div id=\"pie_chart\" style=\"width:268px;height:180px;margin:auto;\">&nbsp;</div><br/><br/></td></tr></table>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<h1>Achats en ligne</h1><div></div>');\n}\nreturn buf.join(\"\");\n};"]}